# =======================
# SamSkyBridge CONFIG
# Minecraft 1.16.5 / Java 8
# =======================
worlds:
  # SkyBlock 기능 전용 월드
  island-world: "bskyblock_world"

features:
  mine:
    # 설치/사용 제한
    allowed-worlds: ["bskyblock_world"]   # 안전하게 직접 기입
    only-owner-install: true              # 섬장만 설치 가능
    only-on-own-island: true              # 자신의 섬 내부에서만 설치
    allow-members-use: true               # 섬원은 이용 가능
    max-level: 5

    # 🔎 [선택] GUI에 '다음 레벨 광물 테이블'을 로어로 보여주고 싶을 때 사용.
    #   코드가 이 키를 읽지 않으면 단순히 무시됩니다(안전).
    gui:
      show-next-level-lore: true
      # {TABLE} 자리에 아래 levels.<n>.weights가 자동으로 줄바꿈 되어 들어가는 것을 의도
      # (코드가 미지원이면 표시되지 않음)
      lore-format:
        - "&7다음 레벨 변경점:"
        - "&8- &f광물 테이블:"
        - "{TABLE}"
      table-line: "&8  • &7{mat}&7: &a{chance}%"
      table-max-lines: 12

    # 광물 젠 테이블 정의(퍼센트 총합은 100 권장, 100이 아니어도 비율로 처리 가능)
    # GUI 로어용 표시는 이 값을 사용하도록 의도(미지원이면 런타임에 무시).
    levels:
      "1":
        regen-seconds: 20
        weights: {STONE: 70, COAL_ORE: 20, IRON_ORE: 10}
      "2":
        regen-seconds: 18
        weights: {STONE: 50, COAL_ORE: 25, IRON_ORE: 15, GOLD_ORE: 10}
      "3":
        regen-seconds: 16
        weights: {STONE: 40, COAL_ORE: 25, IRON_ORE: 20, GOLD_ORE: 10, REDSTONE_ORE: 5}
      "4":
        regen-seconds: 14
        weights: {STONE: 35, COAL_ORE: 25, IRON_ORE: 20, GOLD_ORE: 10, REDSTONE_ORE: 5, LAPIS_ORE: 5}
      "5":
        regen-seconds: 12
        weights: {STONE: 30, COAL_ORE: 25, IRON_ORE: 20, GOLD_ORE: 10, REDSTONE_ORE: 5, LAPIS_ORE: 5, DIAMOND_ORE: 5}

  farm:
    allowed-worlds: ["bskyblock_world"]
    only-owner-install: true
    only-on-own-island: true
    allow-members-use: true
    max-level: 5
    replant:
      # 수확 후 자동 재심기
      delay-ticks: 4
      require-seed: true          # 씨앗이 인벤에 있어야만 수확/재심기 허용(무한 드랍 방지)
      deny-when-missing: true     # 씨앗 없으면 캔 행위 자체 취소

upgrades:
  # 업그레이드 GUI 로어 및 요구 조건(돈 & 섬 레벨)
  mine:
    gui:
      lore-template:
        - "&7현재 레벨: &f{now}/{max}"
        - "&7요구 레벨: &fLv.{need}"
        - "&7가격: &a{cost}"
        - "&8다음 업그레이드 변화:"
        - "&8- &7추가 보너스: &a{nextBonus}"
        - "&8- &7리젠 간격: &a{nextRegen}s"
        - "&7클릭: 업그레이드"
        # ⬇ {nextOreTable}이 지원되면 다음 레벨 광물 테이블이 아래 포맷으로 렌더링됨
        - "{nextOreTable}"
      # {nextOreTable} 렌더 포맷(코드 미지원 시 무시)
      next-ore-table-line: "&8  • &7{mat}&7: &a{chance}%"
      next-ore-table-title: "&8- &7광물 테이블:"
      next-ore-table-max-lines: 12
    levels:
      1: {require-island-level: 4,  cost: 6250,  bonus: "+5% 광물 보너스",  regen: 20}
      2: {require-island-level: 7,  cost: 9500,  bonus: "+10% 광물 보너스", regen: 18}
      3: {require-island-level: 10, cost: 14500, bonus: "+15% 광물 보너스", regen: 16}
      4: {require-island-level: 13, cost: 21000, bonus: "+20% 광물 보너스", regen: 14}
      5: {require-island-level: 16, cost: 28000, bonus: "+25% 광물 보너스", regen: 12}

  farm:
    gui:
      lore-template:
        - "&7현재 레벨: &f{now}/{max}"
        - "&7요구 레벨: &fLv.{need}"
        - "&7가격: &a{cost}"
        - "&8다음 업그레이드 변화:"
        - "&8- &7추가 성장 확률: &a{nextBonus}"
        - "&8- &7자동재배 딜레이: &a{nextReplant}틱"
        - "&7클릭: 업그레이드"
    levels:
      1: {require-island-level: 2,  cost: 4000,  bonus: "+5% 성장",  replant: 4}
      2: {require-island-level: 5,  cost: 8000,  bonus: "+10% 성장", replant: 4}
      3: {require-island-level: 9,  cost: 14000, bonus: "+15% 성장", replant: 3}
      4: {require-island-level: 12, cost: 21000, bonus: "+20% 성장", replant: 3}
      5: {require-island-level: 15, cost: 28000, bonus: "+25% 성장", replant: 2}

tablist:
  enabled: true
  update-interval-ticks: 40
  header:
    - "&b&lSKYBLOCKD &7| &f온라인: &a%server_online% &7/ &a%server_max_players%"
    - "&7섬 레벨: &b%island_level%  &7랭킹: &a%island_rank%"
  footer:
    - "&7디스코드: &bdiscord.gg/yourserver"
  name-format:
    owner:  "&d[섬 랭킹 &a%island_rank%위 &d| &bLv.%island_level%&d] &f%player_name%"
    member: "&a[섬원 &bLv.%island_level%&a] &f%player_name%"
    visitor: "&7[등록없음] &f%player_name%"

messages:
  not-island-world: "&c이 명령은 &e{world}&c(섬 월드)에서만 사용할 수 있습니다."
  must-be-owner: "&c섬장만 설치할 수 있습니다."
  must-be-inside-own-island: "&c자신의 섬 내부에서만 설치 가능합니다."
  need-seed: "&c씨앗이 없습니다."


# ================= Extra Controls (added) =================
bento:
  apply-range-on-upgrade: true
  apply-teammax-on-upgrade: true
  range.command: "bsbadmin range set {owner} {radius}"
  gamemode-id: "bskyblock"
  teammax.permission-format: "{gm}.team.maxsize.{max}"

join:
  reapply:
    teammax: true

barrier:
  enabled: true
  show-seconds: 4
  step: 1.5

portal-block:
  enabled: false
  worlds: ["bskyblock_world"]

ranking:
  page-size: 10

tablist:
  owner-prefix: ""
  member-prefix: ""
  visitor-prefix: ""
  same-island-owner-prefix: "&b"
  same-island-member-prefix: "&a"
  same-island-highlight: false

features:
  mine:
    install:
      length: 4
      axis: "X"    # X or Z
  farm:
    growth:
      enabled: true
    crops:
      "1": {WHEAT: 100}
      "2": {WHEAT: 60, CARROTS: 40}
      "3": {WHEAT: 40, CARROTS: 40, POTATOES: 20}
      "4": {WHEAT: 30, CARROTS: 35, POTATOES: 25, BEETROOTS: 10}
      "5": {WHEAT: 25, CARROTS: 30, POTATOES: 25, BEETROOTS: 20}

upgrades:
  gui:
    size: 27
  farm:
    levels:
      1: {growth-multiplier: 1.0}
      2: {growth-multiplier: 1.1}
      3: {growth-multiplier: 1.2}
      4: {growth-multiplier: 1.3}
      5: {growth-multiplier: 1.4}
